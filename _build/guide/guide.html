<!DOCTYPE html>
<html>
  <head>
    <title>Development Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <!-- Bootstrap -->
    <link href="/css/bootstrap-flatly.min.css" rel="stylesheet" media="screen">
    <!-- customizations -->
    <link href="/css/site.css" rel="stylesheet" media="screen">
    <!-- pygments -->
    <link href="/css/syntax.css" rel="stylesheet" media="screen">
    <!-- icons -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.css" rel="stylesheet">
    <link rel="shortcut icon" href="/media/myhdl_favicon.ico">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48954307-1', 'myhdl.org');
  ga('send', 'pageview');

</script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">MyHDL / dev</a>
        </div>
        <div class="navbar-collapse collapse">

          <ul class="nav navbar-nav navbar-left">
 
            <li class="active" class="dropdown">
              <a href="/guide/" class="dropdown-toggle" data-toggle="dropdown">Guide <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="/guide/guide.html">Development Guide</a></li>    
                <li><a href="/guide/guide_tests.html">Writing Tests</a></li>    
              </ul>
            </li>
            <li><a href="/meps/">MEPs</a></li>
            <li><a href="/gsoc/">GSoC</a></li>
            <li class="dropdown">
              <a href="/resources/" class="dropdown-toggle" data-toggle="dropdown">Resources <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="http://docs.myhdl.org/en/latest">Manual under development</a></li>    
                <li><a href="/resources/tasks/">Tasks</a></li>    
                <li><a href="/resources/ideas/">Ideas</a></li>    
                <li><a href="/resources/archive/">Archive</a></li>    
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li><a href="/info.html">Info</a></li>
          </ul>

        </div><!--/.nav-collapse -->
      </div>
    </div>


<div class="container">

    <ol class="breadcrumb">
       <li><a href="/">Home</a></li>
       <li><a href="/guide/">Guide</a></li>
       <li class="active">Development Guide</li>
    </ol>

    <div class="page-header">
 
<h1>Development Guide
</h1>
        <p><i>Last modified: 28-Mar-2017 by 秋纫</i></p>
    </div>

    <div class="row">

        <div class="col-md-7 content" role="main">
            <h2 id="background-info">Background info</h2>
<p>The <a href="http://dev.myhdl.org" title="dev.myhdl.org">dev.myhdl.org</a> website documents all aspects of the development
process of the MyHDL project. </p>
<p>MyHDL's original developer, <a href="mailto:jan@jandecaluwe.com" title="Jan Decaluwe">Jan Decaluwe</a>, is MyHDL's <abbr title="Benevolent Dictator For Life">BDFL</abbr>. He has the
final say about its design and development decisions.  The development workflow
takes that into account.</p>
<h2 id="how-to-help-with-the-myhdl-project">How to help with the MyHDL project</h2>
<p>Before considering to contribute to development, note that there are other ways
to help.</p>
<p>In particular, the best way to help is to use MyHDL in design projects <em>and let
people know about it</em>. If you want, you can use 
<a href="http://www.myhdl.org/users" title="MyHDL users">the users section on the MyHDL site</a>.</p>
<p>Another great help is to report issues in the <a href="https://github.com/jandecaluwe/myhdl/issues" title="Issue Tracker">Issue Tracker</a>.  Add a small
test that fails and that you think should work.  That is a great starting point
of issue fixers.</p>
<p>If you like to contribute to development, please consider not to start with
your own pet feature. The following contributions get priority, in this order:</p>
<ul>
<li>code changes that increase robustness, clarity and maintainability </li>
<li>issue fixes </li>
<li>features labeled <code>help wanted</code> in the <a href="https://github.com/jandecaluwe/myhdl/issues" title="Issue Tracker">Issue Tracker</a>   </li>
</ul>
<p>If you would like to work on a new feature, do things in the right order.
Start with communication and specification work, not by raising pull requests
against the main repository. MyHDL development is conservative when it comes to
new features, so you are likely to be disappointed otherwise.</p>
<h2 id="the-repository">The repository</h2>
<p>MyHDL code development is managed on <a href="http://www.github.com" title="GitHub">GitHub</a> using <a href="http://git-scm.com" title="git">git</a>.</p>
<p>The public repository resides <a href="https://github.com/jandecaluwe/myhdl" title="MyHDL repository">here</a>.  GitHub offers an excellent
interface to the repository and its history. </p>
<p>The repository can be used for several purposes, such as browsing through the
development history, and tracking development. In addition, you can use it to
contribute your own changes.  </p>
<h2 id="the-git-version-control-system">The git version control system</h2>
<p>This guide assumes that you have basic working knowledge of git.
To get started with git, I recommend to read the initial
chapters of the <a href="http://git-scm.com/book/en/v2" title="Pro Git book">Pro Git book</a>.</p>
<h2 id="tracking-development">Tracking development</h2>
<p>If you have git installed, you can use the repository to track development.
The first step is to clone the repository according to the GitHub instructions:</p>
<div class="codehilite"><pre><span></span>$ git clone https://github.com/jandecaluwe/myhdl.git
Cloning into &#39;myhdl&#39;...
</pre></div>


<p>The repository contains multiple branches. You can see them as follows:</p>
<div class="codehilite"><pre><span></span>$ cd myhdl
$ git branch -a
* master
  remotes/origin/0.9-maintenance
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/master
</pre></div>


<p>You can see that there is a <code>master</code> branch that is checked out by
default, and a <code>0.9-maintenance</code> branch. The meaning of the
branches is as follows: </p>
<table class="table">
<thead>
<tr>
<th>Branch name</th>
<th>Purpose</th>
<th>Policy</th>
</tr>
</thead>
<tbody>
<tr>
<td>master</td>
<td>Development</td>
<td>New features</td>
</tr>
<tr>
<td>0.9-maintenance</td>
<td>Official release</td>
<td>0.9.* release maintenance</td>
</tr>
</tbody>
</table>
<p>By default, you are on the <code>master</code> branch. To switch to the maintenance
branch, for example for a bug fix in the official release, use:</p>
<div class="codehilite"><pre><span></span>$ git checkout 0.9-maintenance
</pre></div>


<p>On any given branch, you can stay current with upstream changes
by pulling:</p>
<div class="codehilite"><pre><span></span>$ git pull 
</pre></div>


<p>To use the local repository code the simplest way is to adjust the
<code>$PYTHONPATH</code> environment variable. Make sure that the path to your local
repository is the first entry in the <code>PYTHONPATH</code> variable. In this way, that
version of the <code>myhdl</code> package will be found first.</p>
<h2 id="contributing-changes">Contributing changes</h2>
<h3 id="introduction">Introduction</h3>
<p>You can also contribute your own changes. </p>
<p>The workflow is such changes are reviewed by other developers and applied or
rejected by the <abbr title="Benevolent Dictator For Life">BDFL</abbr>. Therefore, your goal as a contributor should be to
minimize the work of other developers. What is needed is the following:</p>
<ul>
<li>an understanding why the changes are needed and useful</li>
<li>a test that verifies the changes</li>
<li>using <a href="http://git-scm.com" title="git">git</a> to manage changes</li>
<li>using <a href="http://www.github.com" title="GitHub">GitHub</a> to fork the main repo and create <em>pull requests</em>.</li>
</ul>
<p>The implementation of these requirements is described in more detail in the
following sections.</p>
<h3 id="first-step-communicate">First step: communicate</h3>
<p>Except for obvious bug fixes, the first step is to communicate about the
problem or feature with the MyHDL community.  Start a discussion in the
<a href="http://www.myhdl.org/support/community.html" title="Mailing List">Mailing List</a> or add an entry in the <a href="https://github.com/jandecaluwe/myhdl/issues" title="Issue Tracker">Issue Tracker</a>.</p>
<p>Depending on the interest, the result will be a fruitful discussion that may
result in a specification for the work to be done.</p>
<h3 id="creating-changes">Creating changes</h3>
<p>To manage your changes, use git. By doing so, the other developers can simply
use their normal development workflow to incorporate your work.  Moreover, your
name will be preserved as the author, so you get the credit you deserve.</p>
<p>In git terminology, a set of changes that belong together is called a <em>commit</em>.
To create a commit with all the changes, use: </p>
<div class="codehilite"><pre><span></span>git commit -a
</pre></div>


<p>Without the <code>-a</code> option, only selected changes would go into the commit.
Such sophistication is typical of git and often useful. Consult the
<a href="http://git-scm.com/book/en/v2" title="Pro Git book">documentation</a> for more info.</p>
<h3 id="quality">Quality</h3>
<p>At a certain point you will want to publish your changes, so that everyone can
benefit from them. However, don't publish your work until it is complete.  Make
sure there are no loose ends that others will have to address after you.  Most
importantly, make sure your changes have been tested.</p>
<p>Run the MyHDL regression tests to make sure nothing breaks.  As a minimum, the
tests in <code>test/core</code> should be run. If your changes are related to conversion
to VHDL/Verilog, the test in the <code>test/conversion</code> directories should be run
also.</p>
<p>Presumably, you have some test for your changes in place.  You should turn it
into a test that can be added to the regression test suite.</p>
<p>You may need a number of commits to complete your work. That isn't a problem at
all, on the contrary. Finish the job before publishing. </p>
<h3 id="writing-tests">Writing tests</h3>
<p>For anything but trivial fixes, unit test are mandatory.</p>
<p>A test for a fix or feature should fail before the fix or implementation, and
pass after it. Therefore, test-driven development, where the test is written
first, is the recommended development strategy.</p>
<p>The first reason for a test is obviously to verify the fix or implementation
itself. However, the most important reason is to make the code base robust
against future modifications. Consequently, changesets without good tests will
not be accepted.</p>
<p>For MyHDL development, the test should be written in <a href="http://pytest.org">pytest</a> style.</p>
<h3 id="publishing-changes">Publishing changes</h3>
<p>When you are ready with your changes, use  <a href="http://www.github.com" title="GitHub">GitHub</a> to publish them.
Publishing changes is done by creating <em>pull requests</em>. The process is
documented <a href="https://help.github.com/articles/using-pull-requests/">here</a>.</p>
<p>Other developers will review the pull request, and the <abbr title="Benevolent Dictator For Life">BDFL</abbr> will decide to
merge it in or not.</p>
        </div>

        <div class="col-md-3" role="navigation">
          <nav class="hidden-print hidden-xs hidden-sm">
            <div class="sidebar" data-spy="affix"
                 data-offset-top="80"
                 data-offset-bottom="60">
                <div class="well">
                    <a href="#"><strong style="font-size:90%">Development Guide</strong></a>
                    <div class="toc">
<ul>
<li><a href="#background-info">Background info</a></li>
<li><a href="#how-to-help-with-the-myhdl-project">How to help with the MyHDL project</a></li>
<li><a href="#the-repository">The repository</a></li>
<li><a href="#the-git-version-control-system">The git version control system</a></li>
<li><a href="#tracking-development">Tracking development</a></li>
<li><a href="#contributing-changes">Contributing changes</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#first-step-communicate">First step: communicate</a></li>
<li><a href="#creating-changes">Creating changes</a></li>
<li><a href="#quality">Quality</a></li>
<li><a href="#writing-tests">Writing tests</a></li>
<li><a href="#publishing-changes">Publishing changes</a></li>
</ul>
</li>
</ul>
</div>

                </div>
            </div>
          </nav>
        </div>


    </div>

    <div class="footer">
        <div style="margin: 8px">
<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Place this tag where you want the +1 button to render. -->
<div class="g-plusone" data-size="medium"></div>

<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
window.__gcfg = {
    lang: 'en-US'
};
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/plusone.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>

<script type="text/javascript" src="http://www.reddit.com/static/button/button1.js"></script>        </div>
        <p></p>
        <p>
           <a href="https://github.com/myhdl/site-myhdl-dev"><i class="fa fa-github"></i>Website source</a>
        <p>
           Content licensed under the
           <a href="http://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a> license.
           See <a href="/terms-of-use.html">Terms of Use</a>
        </p> 
        <p>
           Powered by <a href="http://urubu.jandecaluwe.com">Urubu</a>
        </p> 
    </div>
</div>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>

  </body>
</html>